[{"/home/tentacle/WebstormProjects/ChessOnline/client/src/index.js":"1","/home/tentacle/WebstormProjects/ChessOnline/client/src/App.js":"2","/home/tentacle/WebstormProjects/ChessOnline/client/src/reportWebVitals.js":"3","/home/tentacle/WebstormProjects/ChessOnline/client/src/Components/Join.js":"4","/home/tentacle/WebstormProjects/ChessOnline/client/src/Components/Room.js":"5","/home/tentacle/WebstormProjects/ChessOnline/client/src/Components/Board.js":"6"},{"size":599,"mtime":1611039902754,"results":"7","hashOfConfig":"8"},{"size":411,"mtime":1611042454713,"results":"9","hashOfConfig":"8"},{"size":362,"mtime":1611002132786,"results":"10","hashOfConfig":"8"},{"size":541,"mtime":1611250716224,"results":"11","hashOfConfig":"8"},{"size":2530,"mtime":1611253966241,"results":"12","hashOfConfig":"8"},{"size":333,"mtime":1611250569316,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"1o63lz",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"16"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"/home/tentacle/WebstormProjects/ChessOnline/client/src/index.js",[],["29","30"],"/home/tentacle/WebstormProjects/ChessOnline/client/src/App.js",[],"/home/tentacle/WebstormProjects/ChessOnline/client/src/reportWebVitals.js",[],"/home/tentacle/WebstormProjects/ChessOnline/client/src/Components/Join.js",[],"/home/tentacle/WebstormProjects/ChessOnline/client/src/Components/Room.js",["31","32","33","34"],"import React, {useState} from 'react'\nimport {useParams} from 'react-router-dom'\nimport socketClient from 'socket.io-client'\nimport Board from \"./Board\";\n\nconst socket = socketClient.io('https://chesstenacles.herokuapp.com/', {transports: ['websocket']})\n\nconst Room = () => {\n    const black = \"black\"\n    const white = \"white\"\n    const {room} = useParams()\n    const [game_fen, setGameFen] = useState(null);\n    const [game_id, setGameId] = useState(0)\n    const [game_status, setGameStatus] = useState('ok')\n    const [orientation, setOrientation] = useState(white)\n    const [lastMove, setLastMove] = useState('')\n    const [gameOver, setGameOver] = useState(false)\n    const checkForPieceColor = (piece) => {\n        return piece.startsWith('w') && orientation === white && piece || piece.startsWith('b') && orientation === black && piece\n    }\n    const move = (sourceSquare, targetSquare) => {\n        socket.emit('move', {move: {from: sourceSquare, to: targetSquare, promotion: 'q'}, idx: game_id, room}, ({fen}) => {\n            setGameFen(fen)\n        })\n    }\n    const onDropMove = ({ sourceSquare, targetSquare, piece }) => {\n        if(checkForPieceColor(piece)){\n            move(sourceSquare, targetSquare)\n        }\n    }\n    socket.on('orientation', ({orientation}) => {\n        setOrientation(orientation)\n    })\n    socket.on('game', ({fen, id, status, last_move}) => {\n        setGameFen(fen)\n        setGameId(id);\n        setLastMove(last_move)\n        setGameStatus(status)\n        if(game_status !== 'ok' && !game_status.startsWith('check')){\n            setGameOver(true)\n        }\n    })\n    socket.on('surrender', ({status}) => {\n        setGameStatus(status)\n        setGameOver(true)\n    })\n    socket.emit('join', {room}, ({fen, id}) => {\n        setGameFen(fen)\n        setGameId(id);\n    })\n    return(\n        <div className=\"game\">\n            {game_status.startsWith(\"check\") ? <h1 className=\"check_info\">check {game_status.split(\" \")[1] === \"w\" ? white : black}</h1> : null}\n            {game_fen && !gameOver ? <Board orientation={orientation} fen={game_fen} onDrop={onDropMove}/>\n            : !gameOver ? <h1>Copy this link and share with your friend</h1> : null}\n            { gameOver ? <h1>Game over {game_status} wins</h1> : null}\n            { game_fen && !gameOver ? <button onClick={() => socket.emit('surrender', {room, orientation})}>Surrender</button> : null}\n            {game_fen && !gameOver ? <h1>Last Move: {lastMove}</h1> : null}\n        </div>\n    )\n}\n\nexport default Room","/home/tentacle/WebstormProjects/ChessOnline/client/src/Components/Board.js",[],["35","36"],{"ruleId":"37","replacedBy":"38"},{"ruleId":"39","replacedBy":"40"},{"ruleId":"41","severity":1,"message":"42","line":19,"column":63,"nodeType":"43","messageId":"44","endLine":19,"endColumn":65},{"ruleId":"41","severity":1,"message":"42","line":19,"column":72,"nodeType":"43","messageId":"44","endLine":19,"endColumn":74},{"ruleId":"41","severity":1,"message":"45","line":19,"column":72,"nodeType":"43","messageId":"44","endLine":19,"endColumn":74},{"ruleId":"41","severity":1,"message":"45","line":19,"column":122,"nodeType":"43","messageId":"44","endLine":19,"endColumn":124},{"ruleId":"37","replacedBy":"46"},{"ruleId":"39","replacedBy":"47"},"no-native-reassign",["48"],"no-negated-in-lhs",["49"],"no-mixed-operators","Unexpected mix of '&&' and '||'.","LogicalExpression","unexpectedMixedOperator","Unexpected mix of '||' and '&&'.",["48"],["49"],"no-global-assign","no-unsafe-negation"]